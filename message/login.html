<!DOCTYPE html>
<html>
<head>
    	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    	<title>弹窗</title>
    	<style>
    		*{ margin: 0; padding: 0; }
    		#btn{ width: 100px; height: 40px; line-height: 40px; outline: 0; border: 1px solid #333; background: #555; color: #fff; cursor: pointer; }
    		#btn:hover{ background: #444; }
    		#login{ width: 260px; height: 390px; box-shadow: 0 0 5px #999; padding: 10px 20px; position: relative; display: none; background: #fff; }
    		#close{ position: absolute; width: 26px; height: 26px; right: 10px; top: 10px; }
    		#head{ text-align: center; font-size: 20px; line-height: 2em; width: 100%; }
    		#login p label{ font-size: 16px; line-height: 3em; }
    		#login p:nth-of-type(7){ font-size: 12px; color: #aaa; text-align: center; line-height: 3em; }
    		#login input{ width: 100%; height: 30px; }
    		#login input[type=button]{ height: 40px; margin-top: 20px; background: #222; color: #fff; outline: 0; border: 1px solid #111; }
    		#login>img{ width: 100%; height: 100px; position: absolute; left: 0; bottom: 0; display: block; }
    	</style>
        <script type="text/javascript" src="jquery-1.9.1.js"></script>
    	<script>
    		// window.onload = function(){
            	// 		var login = document.getElementById("login");
            	// 		var btn = document.getElementById("btn");
            	// 		var head = document.getElementById("head");
            	// 		var close = document.getElementById("close");
            	// 		var onOff=false;
            	// 		//点击弹框
             //    			btn.onclick = function(){
             //    				login.style.zIndex='9999';
             //                    login.style.position="absolute";
             //                    login.style.display="block";
             //                    login.style.left="50%";
             //                    login.style.top="50%";
             //                    login.style.marginLeft=-login.offsetWidth/2+"px";
             //                    login.style.marginTop=-login.offsetHeight/2+"px";
            //
             //                    var layer=document.createElement("div");
             //                    layer.style.zIndex='9998';
             //                    layer.id="layer";
             //                    layer.style.width="100%";
             //                    layer.style.height='100%';
             //                    layer.style.position="absolute";
             //                    layer.style.left=layer.style.top="0px";
             //                    layer.style.opacity='0.6';
             //                    layer.style.background="#ccc";
             //                    document.body.appendChild(layer);
             //    			}
             //            var x=0;y=0;l=0;t=0;
             //            var parent=head.parentNode;
             //            login.onmousedown=function (ev) {
             //                onOff=true;
             //                var ev=ev||window.event;
             //                x=ev.clientX;
             //                y=ev.clientY;
             //                l=parseInt(parent.offsetLeft);
             //                t=parseInt(parent.offsetTop);
             //                login.style.cursor="move";
             //                document.onmousemove=function (ev) {
             //                    var ev=ev||window.event;
             //                    if(onOff){
             //                        login.style.left = l+(ev.clientX-x) + "px";
             //                        login.style.top = t+(ev.clientY-y)  +"px";
             //                        login.style.marginTop = "";
             //                        login.style.marginLeft ="";
             //                    }
             //                }
             //            }
             //            login.onmouseup=function (ev) {
             //                login.style.cursor="";
             //                onOff=false;
             //            }
            //
            	// 		//关闭按钮
            	// 		close.onclick = function(){
             //        				login.style.display = "none";
             //        				document.body.removeChild(document.getElementById("layer"));
             //        			}
             //    		}
                $(function () {
                    var button=$("#btn");
                    var login=$("#login");
                    var close=$("#close");
                    var x=0;y=0;l=0;t=0;onOff=false;
                    $(button).click(function () {
                        var marginLeft=-$(login).width()/2+"px";
                        $(login).css({display:"block",position:"absolute",left:"50%",top:"50%",zIndex:"9999",
                            "margin-left":marginLeft,"margin-top":-$(login).height()/2+"px"});
                        var layer=document.createElement("div");
                        $(layer).css({position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%",
                            background:"#ccc",zIndex:"9998",opacity:"0.6"}).attr("id","layer");
                        $($("body")[0]).prepend(layer);
                    });
                    $(login).mousedown(function (ev) {
                        var ev=ev||window.event;
                        x=ev.clientX;
                        y=ev.clientY;
                        l=$(login).offset().left;
                        t=$(login).offset().top;
                        $(login).css("cursor","move");
                        onOff=true;
                        $(document).mousemove(function (ev) {
                            if(onOff){
                                var ev=ev||window.event;
                                var left=l+(ev.clientX-x)+"px";
                                var top=t+(ev.clientY-y)+"px";
                                $(login).css({"left":left,"top":top,"margin-left":"","margin-top":""})
                            }
                        });
                        $(login).mouseup(function () {
                            $(login).css("cursor","");
                            onOff=false;
                        });
                    });
                    $(close).click(function () {
                        $(login).css("display","none");
                        $("#layer").remove();
                    });
                });
        	</script>
    </head>
<body style="height:2000px;">
	<input type="button" value="点击显示弹窗" id="btn">
	<div id="login">
    		<div id="close"><img src="close.jpg" alt=""></div>
    		<p id="head">登陆</p>
    		<p><label for="email">邮箱 :</label></p>
    		<p><input type="email" id="email"></p>
    		<p><label for="pwd">密码 :</label></p>
    		<p><input type="password" id="pwd"></p>
    		<p><input type="button" value="登 陆"></p>
    		<p>忘记密码 创建账号</p>
    		<img src="" alt="">
    	</div>
</body>
</html> 